<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies, DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{-|
Module      : Text.Gigaparsec
Description : Contains the bulk of the core combinators.
License     : BSD-3-Clause
Maintainer  : Jamie Willis, Gigaparsec Maintainers
Stability   : stable

This object contains the core combinators and parser type: all parsers will require something from
within!

TODO: what is inside it?

@since 0.1.0.0
-}</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Gigaparsec</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier">Parsec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier">Result</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#result"><span class="hs-identifier">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parse"><span class="hs-identifier">parse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parseFromFile"><span class="hs-identifier">parseFromFile</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parseRepl"><span class="hs-identifier">parseRepl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Primitive Combinators</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-comment">-- | These combinators are specific to parser combinators. In one way or another, they influence</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-comment">-- how a parser consumes input, or under what conditions a parser does or does not fail. These are</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-comment">-- really important for most practical parsing considerations, although lookAhead is much less</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-comment">-- well used.</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#atomic"><span class="hs-identifier">atomic</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#lookAhead"><span class="hs-identifier">lookAhead</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#notFollowedBy"><span class="hs-identifier">notFollowedBy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#eof"><span class="hs-identifier">eof</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Consumptionless Parsers</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-comment">-- | These combinators and parsers do not consume input: they are the most primitive ways of</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-comment">-- producing successes and failures with the minimal possible effect on the parse. They are,</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-comment">-- however, reasonably useful; in particular, `pure` and `unit` can be put to good use in</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-comment">-- injecting results into a parser without needing to consume anything, or mapping another parser.</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#unit"><span class="hs-keyword">unit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Re-exported from &quot;Control.Applicative&quot;</span></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-identifier">pure</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Result Changing Combinators</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-comment">-- | These combinators change the result of the parser they are called on into a value of a</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-comment">-- different type. This new result value may or may not be derived from the previous result.</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#%24%3E"><span class="hs-operator">($&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Re-exported from &quot;Data.Functor&quot;</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="hs-operator">(&lt;$&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;$)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">void</span></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Sequencing Combinators</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-comment">-- | These combinators all combine two parsers in sequence. The first argument of the combinator</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-comment">-- will be executed first, then the second argument second. The results of both parsers are</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-comment">-- combined in some way (depending on the individual combinator). If one of the parsers fails, the</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-comment">-- combinator as a whole fails.</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#%3C~%3E"><span class="hs-operator">(&lt;~&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#%3C%3A%3E"><span class="hs-operator">(&lt;:&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Re-exported from &quot;Control.Applicative&quot;</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-operator">(&lt;*&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftA2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(*&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;*)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;**&gt;)</span></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Branching Combinators</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-comment">-- | These combinators allow for parsing one alternative or another. All of these combinators are</span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-comment">-- /left-biased/, which means that the left-hand side of the combinator is tried first: the</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-comment">-- right-hand side of the combinator will only be tried when the left-hand one failed (and did not</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-comment">-- consume input in the process).</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#%3C%2B%3E"><span class="hs-operator">(&lt;+&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Re-exported from &quot;Control.Applicative&quot;</span></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Selective Combinators</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-comment">-- | These combinators will decide which branch to take next based on the result of another parser.</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-comment">-- This differs from combinators like `(&lt;|&gt;)` which make decisions based on the success/failure of</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-comment">-- a parser: here the result of a /successful/ parse will direct which option is done.</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Re-exported from &quot;Control.Selective&quot;</span></span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="hs-identifier">select</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">branch</span></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Filtering Combinators</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-comment">-- | These combinators perform filtering on the results of a parser. This means that, given the</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-comment">-- result of a parser, they will perform some function on that result, and the success of that</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-comment">-- function effects whether or not the parser fails.</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="Text.Gigaparsec.html#filterS"><span class="hs-identifier">filterS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#mapMaybeS"><span class="hs-identifier">mapMaybeS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Folding Combinators</span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-comment">-- | These combinators repeatedly execute a parser (at least zero or one times depending on the</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-comment">-- specific combinator) until it fails. The results of the successes are then combined together</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- using a folding function. An initial value for the accumulation may be given (for the folds),</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- or the first successful result is the initial accumulator (for the reduces). These are</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- implemented efficiently and do not need to construct any intermediate list with which to store</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">-- the results.</span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><span class="hs-identifier">many</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">some</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#manyl"><span class="hs-identifier">manyl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#manyr"><span class="hs-identifier">manyr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#somel"><span class="hs-identifier">somel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#somer"><span class="hs-identifier">somer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#manyMap"><span class="hs-identifier">manyMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#someMap"><span class="hs-identifier">someMap</span></a></span><span class="hs-special">,</span><span class="hs-comment">-- TODO: these need to be properly categorised</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- NOTE:</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- This module is mostly just for re-exports, though there may be primitive</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- combinators in here too. If user can see it, it can go in here.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- Care MUST be taken to not expose /any/ implementation details from</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- `Internal`: when they are in the public API, we are locked into them!</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html"><span class="hs-identifier">Text.Gigaparsec.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier">Parsec</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier">Parsec</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#emptyState"><span class="hs-identifier">emptyState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#manyr"><span class="hs-identifier">manyr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#somer"><span class="hs-identifier">somer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html"><span class="hs-identifier">Text.Gigaparsec.Internal</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#State"><span class="hs-identifier">State</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#useHints"><span class="hs-identifier">useHints</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#expectedErr"><span class="hs-identifier">expectedErr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html"><span class="hs-identifier">Text.Gigaparsec.Internal.RT</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#RT"><span class="hs-identifier">RT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#runRT"><span class="hs-identifier">runRT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#rtToIO"><span class="hs-identifier">rtToIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html"><span class="hs-identifier">Text.Gigaparsec.Internal.Errors</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html#ParseError"><span class="hs-identifier">ParseError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html#ExpectItem"><span class="hs-identifier">ExpectItem</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html#ExpectEndOfInput"><span class="hs-identifier">ExpectEndOfInput</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html#fromParseError"><span class="hs-identifier">fromParseError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorBuilder.html"><span class="hs-identifier">Text.Gigaparsec.Errors.ErrorBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorBuilder.html#ErrorBuilder"><span class="hs-identifier">ErrorBuilder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.Combinator.html"><span class="hs-identifier">Text.Gigaparsec.Errors.Combinator</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Errors.Combinator.html#filterSWith"><span class="hs-identifier">filterSWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.Combinator.html#mapMaybeSWith"><span class="hs-identifier">mapMaybeSWith</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorGen.html"><span class="hs-identifier">Text.Gigaparsec.Errors.ErrorGen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorGen.html#vanillaGen"><span class="hs-identifier">vanillaGen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">void</span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftA2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">many</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">some</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;**&gt;)</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- liftA2 required until 9.6</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Selective</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">select</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">branch</span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">singleton</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- Hiding the Internal module seems like the better bet: nobody needs to see it anyway :)</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- re-expose like this to prevent hlint suggesting import refinement into internal</span><span>
</span><span id="line-104"></span><span class="hs-comment">--type Parsec :: * -&gt; *</span><span>
</span><span id="line-105"></span><span class="hs-comment">--type Parsec = Internal.Parsec</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><span class="hs-comment">{-|
Similar to @Either@, this type represents whether a parser has failed or not.

This is chosen instead of @Either@ to be more specific about the naming.
-}</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span>
</span><span id="line-113"></span><span class="hs-keyword">data</span><span> </span><span id="Result"><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-var">Result</span></a></span></span><span> </span><span id="local-6989586621679180111"><span class="annot"><a href="#local-6989586621679180111"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679180110"><span class="annot"><a href="#local-6989586621679180110"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Success"><span class="annot"><a href="Text.Gigaparsec.html#Success"><span class="hs-identifier hs-var">Success</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679180110"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Failure"><span class="annot"><a href="Text.Gigaparsec.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679180111"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679180258"><span id="local-6989586621679180265"><span id="local-6989586621679180269"><span class="annot"><span class="annottext">Int -&gt; Result e a -&gt; ShowS
[Result e a] -&gt; ShowS
Result e a -&gt; String
(Int -&gt; Result e a -&gt; ShowS)
-&gt; (Result e a -&gt; String)
-&gt; ([Result e a] -&gt; ShowS)
-&gt; Show (Result e a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall e a. (Show a, Show e) =&gt; Int -&gt; Result e a -&gt; ShowS
forall e a. (Show a, Show e) =&gt; [Result e a] -&gt; ShowS
forall e a. (Show a, Show e) =&gt; Result e a -&gt; String
$cshowsPrec :: forall e a. (Show a, Show e) =&gt; Int -&gt; Result e a -&gt; ShowS
showsPrec :: Int -&gt; Result e a -&gt; ShowS
$cshow :: forall e a. (Show a, Show e) =&gt; Result e a -&gt; String
show :: Result e a -&gt; String
$cshowList :: forall e a. (Show a, Show e) =&gt; [Result e a] -&gt; ShowS
showList :: [Result e a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679180275"><span id="local-6989586621679180279"><span class="annot"><span class="annottext">Result e a -&gt; Result e a -&gt; Bool
(Result e a -&gt; Result e a -&gt; Bool)
-&gt; (Result e a -&gt; Result e a -&gt; Bool) -&gt; Eq (Result e a)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall e a. (Eq a, Eq e) =&gt; Result e a -&gt; Result e a -&gt; Bool
$c== :: forall e a. (Eq a, Eq e) =&gt; Result e a -&gt; Result e a -&gt; Bool
== :: Result e a -&gt; Result e a -&gt; Bool
$c/= :: forall e a. (Eq a, Eq e) =&gt; Result e a -&gt; Result e a -&gt; Bool
/= :: Result e a -&gt; Result e a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679180284"><span id="local-6989586621679180286"><span class="annot"><span class="annottext">(forall x. Result e a -&gt; Rep (Result e a) x)
-&gt; (forall x. Rep (Result e a) x -&gt; Result e a)
-&gt; Generic (Result e a)
forall x. Rep (Result e a) x -&gt; Result e a
forall x. Result e a -&gt; Rep (Result e a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall e a x. Rep (Result e a) x -&gt; Result e a
forall e a x. Result e a -&gt; Rep (Result e a) x
$cfrom :: forall e a x. Result e a -&gt; Rep (Result e a) x
from :: forall x. Result e a -&gt; Rep (Result e a) x
$cto :: forall e a x. Rep (Result e a) x -&gt; Result e a
to :: forall x. Rep (Result e a) x -&gt; Result e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><span class="hs-comment">{-|
A fold for the 'Result' type.

This functions like the 'either' function does for 'Either'.

@since 0.2.0.0
-}</span></span><span>
</span><span id="line-122"></span><span id="local-6989586621679180076"><span id="local-6989586621679180077"><span id="local-6989586621679180078"><span class="annot"><a href="Text.Gigaparsec.html#result"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180076"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180077"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180078"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180077"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180076"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180078"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180077"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-123"></span><span id="result"><span class="annot"><span class="annottext">result :: forall e b a. (e -&gt; b) -&gt; (a -&gt; b) -&gt; Result e a -&gt; b
</span><a href="Text.Gigaparsec.html#result"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="annot"><span class="annottext">e -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679180290"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679180290"><span class="hs-identifier hs-var">success</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679180291"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180291"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679180290"><span class="hs-identifier hs-var">success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180291"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-124"></span><span class="annot"><a href="Text.Gigaparsec.html#result"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span id="local-6989586621679180292"><span class="annot"><span class="annottext">e -&gt; b
</span><a href="#local-6989586621679180292"><span class="hs-identifier hs-var">failure</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679180293"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679180293"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; b
</span><a href="#local-6989586621679180292"><span class="hs-identifier hs-var">failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679180293"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parse"><span class="hs-pragma hs-type">parse</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679180294"><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-pragma hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180294"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-pragma hs-type">Result</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679180294"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-127"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parse"><span class="hs-pragma hs-type">parse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-128"></span><span class="annot"><span class="hs-comment">{-|
Runs a parser against some input.

Given a parser, some input, and a way of producing parse errors of a desired
type (via 'ErrorBuilder'), this function runs a parser to produce either a
successful result or an error. Note that the @err@ type parameter is first,
which allows for @parse \@String@ to make use of the defaultly formated @String@
error messages. This may not be required if it is clear from context. To make
this process nicer within GHCi, consider using 'parseRepl'.
-}</span></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Text.Gigaparsec.html#parse"><span class="hs-identifier hs-type">parse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679180082"><span class="annot"><a href="#local-6989586621679180082"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621679180084"><span class="annot"><a href="#local-6989586621679180084"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorBuilder.html#ErrorBuilder"><span class="hs-identifier hs-type">ErrorBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180082"><span class="hs-identifier hs-type">err</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180084"><span class="hs-identifier hs-type">a</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ the parser to execute</span></span><span>
</span><span id="line-140"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ the input to parse</span></span><span>
</span><span id="line-141"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180082"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180084"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ result of the parse, either an error or result</span></span><span>
</span><span id="line-142"></span><span id="parse"><span class="annot"><span class="annottext">parse :: forall err a.
ErrorBuilder err =&gt;
Parsec a -&gt; String -&gt; Result err a
</span><a href="Text.Gigaparsec.html#parse"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span id="local-6989586621679180297"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180297"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679180298"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180298"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RT (Result err a) -&gt; Result err a
forall a. RT a -&gt; a
</span><a href="Text.Gigaparsec.Internal.RT.html#runRT"><span class="hs-identifier hs-var">Internal.runRT</span></a></span><span> </span><span class="annot"><span class="annottext">(RT (Result err a) -&gt; Result err a)
-&gt; RT (Result err a) -&gt; Result err a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
forall err a.
ErrorBuilder err =&gt;
Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
</span><a href="Text.Gigaparsec.html#_parse"><span class="hs-identifier hs-var">_parse</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180297"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180298"><span class="hs-identifier hs-var">inp</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="annot"><span class="hs-comment">{-|
Runs a parser against some input, pretty-printing the result to the terminal.

Compared, with 'parse', this function will always generate error messages as
strings and will print them nicely to the terminal (on multiple lines). If the
parser succeeds, the result will also be printed to the terminal. This is useful
for playing around with parsers in GHCi, seeing the results more clearly.

@since 0.2.0.0
-}</span></span><span>
</span><span id="line-154"></span><span id="local-6989586621679180095"><span class="annot"><a href="Text.Gigaparsec.html#parseRepl"><span class="hs-identifier hs-type">parseRepl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679180095"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-155"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the parser to execute</span></span><span>
</span><span id="line-156"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ the input to parse</span></span><span>
</span><span id="line-157"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-158"></span><span id="parseRepl"><span class="annot"><span class="annottext">parseRepl :: forall a. Show a =&gt; Parsec a -&gt; String -&gt; IO ()
</span><a href="Text.Gigaparsec.html#parseRepl"><span class="hs-identifier hs-var hs-var">parseRepl</span></a></span></span><span> </span><span id="local-6989586621679180306"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180306"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679180307"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180307"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679180308"><span class="annot"><span class="annottext">Result String a
</span><a href="#local-6989586621679180308"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RT (Result String a) -&gt; IO (Result String a)
forall a. RT a -&gt; IO a
</span><a href="Text.Gigaparsec.Internal.RT.html#rtToIO"><span class="hs-identifier hs-var">Internal.rtToIO</span></a></span><span> </span><span class="annot"><span class="annottext">(RT (Result String a) -&gt; IO (Result String a))
-&gt; RT (Result String a) -&gt; IO (Result String a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result String a)
forall err a.
ErrorBuilder err =&gt;
Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
</span><a href="Text.Gigaparsec.html#_parse"><span class="hs-identifier hs-var">_parse</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180306"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180307"><span class="hs-identifier hs-var">inp</span></a></span><span>
</span><span id="line-160"></span><span>     </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; (a -&gt; IO ()) -&gt; Result String a -&gt; IO ()
forall e b a. (e -&gt; b) -&gt; (a -&gt; b) -&gt; Result e a -&gt; b
</span><a href="Text.Gigaparsec.html#result"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">print</span></span><span> </span><span class="annot"><span class="annottext">Result String a
</span><a href="#local-6989586621679180308"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parseFromFile"><span class="hs-pragma hs-type">parseFromFile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679180310"><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-pragma hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180310"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-pragma hs-type">Result</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679180310"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-163"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#parseFromFile"><span class="hs-pragma hs-type">parseFromFile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">{-|
Runs a parser against some input obtained from a given file.

Given a parser, a filename, and a way of producing parse errors of a desired
type (via 'ErrorBuilder'), this function runs a parser to produce either a
successful result or an error. First, input is collected by reading the file,
and then the result is returned within `IO`; the filename is forwarded on to
the 'ErrorBuilder', which may mean it forms part of the generated error messages.

Note that the @err@ type parameter is first,
which allows for @parseFromFile \@String@ to make use of the defaultly formated @String@
error messages. This may not be required if it is clear from context.

@since 0.2.1.0
-}</span></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Text.Gigaparsec.html#parseFromFile"><span class="hs-identifier hs-type">parseFromFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679180099"><span class="annot"><a href="#local-6989586621679180099"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621679180100"><span class="annot"><a href="#local-6989586621679180100"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorBuilder.html#ErrorBuilder"><span class="hs-identifier hs-type">ErrorBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180099"><span class="hs-identifier hs-type">err</span></a></span><span>
</span><span id="line-180"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180100"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the parser to execute</span></span><span>
</span><span id="line-181"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the file to source the input from</span></span><span>
</span><span id="line-182"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180099"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180100"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ the result of the parse, error or otherwise</span></span><span>
</span><span id="line-183"></span><span id="parseFromFile"><span class="annot"><span class="annottext">parseFromFile :: forall err a.
ErrorBuilder err =&gt;
Parsec a -&gt; String -&gt; IO (Result err a)
</span><a href="Text.Gigaparsec.html#parseFromFile"><span class="hs-identifier hs-var hs-var">parseFromFile</span></a></span></span><span> </span><span id="local-6989586621679180315"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180315"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679180316"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180316"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679180317"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180317"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><span class="hs-identifier hs-var">readFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180316"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-185"></span><span>     </span><span class="annot"><span class="annottext">RT (Result err a) -&gt; IO (Result err a)
forall a. RT a -&gt; IO a
</span><a href="Text.Gigaparsec.Internal.RT.html#rtToIO"><span class="hs-identifier hs-var">Internal.rtToIO</span></a></span><span> </span><span class="annot"><span class="annottext">(RT (Result err a) -&gt; IO (Result err a))
-&gt; RT (Result err a) -&gt; IO (Result err a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
forall err a.
ErrorBuilder err =&gt;
Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
</span><a href="Text.Gigaparsec.html#_parse"><span class="hs-identifier hs-var">_parse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180316"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180315"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180317"><span class="hs-identifier hs-var">inp</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">--TODO: parseFromHandle?</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#_parse"><span class="hs-pragma hs-type">_parse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-190"></span><span class="annot"><a href="Text.Gigaparsec.html#_parse"><span class="hs-identifier hs-type">_parse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679180092"><span class="annot"><a href="#local-6989586621679180092"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621679180093"><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Errors.ErrorBuilder.html#ErrorBuilder"><span class="hs-identifier hs-type">ErrorBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180092"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#RT"><span class="hs-identifier hs-type">Internal.RT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180092"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span id="_parse"><span class="annot"><span class="annottext">_parse :: forall err a.
ErrorBuilder err =&gt;
Maybe String -&gt; Parsec a -&gt; String -&gt; RT (Result err a)
</span><a href="Text.Gigaparsec.html#_parse"><span class="hs-identifier hs-var hs-var">_parse</span></a></span></span><span> </span><span id="local-6989586621679180324"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679180324"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span id="local-6989586621679180325"><span class="annot"><span class="annottext">forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180325"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679180326"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180326"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State
-&gt; (a -&gt; State -&gt; RT (Result err a))
-&gt; (ParseError -&gt; State -&gt; RT (Result err a))
-&gt; RT (Result err a)
forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180325"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; State
</span><a href="Text.Gigaparsec.Internal.html#emptyState"><span class="hs-identifier hs-var">emptyState</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180326"><span class="hs-identifier hs-var">inp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; State -&gt; RT (Result err a)
</span><a href="#local-6989586621679180327"><span class="hs-identifier hs-var">good</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT (Result err a)
</span><a href="#local-6989586621679180328"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621679180327"><span class="hs-identifier hs-type">good</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#State"><span class="hs-identifier hs-type">Internal.State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#RT"><span class="hs-identifier hs-type">Internal.RT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180092"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>        </span><span id="local-6989586621679180327"><span class="annot"><span class="annottext">good :: a -&gt; State -&gt; RT (Result err a)
</span><a href="#local-6989586621679180327"><span class="hs-identifier hs-var hs-var">good</span></a></span></span><span> </span><span id="local-6989586621679180329"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180329"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">State
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Result err a -&gt; RT (Result err a)
forall a. a -&gt; RT a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Result err a
forall e a. a -&gt; Result e a
</span><a href="Text.Gigaparsec.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180329"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><a href="#local-6989586621679180328"><span class="hs-identifier hs-type">bad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Errors.html#ParseError"><span class="hs-identifier hs-type">Internal.ParseError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#State"><span class="hs-identifier hs-type">Internal.State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.RT.html#RT"><span class="hs-identifier hs-type">Internal.RT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180092"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180093"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>        </span><span id="local-6989586621679180328"><span class="annot"><span class="annottext">bad :: ParseError -&gt; State -&gt; RT (Result err a)
</span><a href="#local-6989586621679180328"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span id="local-6989586621679180330"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679180330"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="annot"><span class="annottext">State
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Result err a -&gt; RT (Result err a)
forall a. a -&gt; RT a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">err -&gt; Result err a
forall e a. e -&gt; Result e a
</span><a href="Text.Gigaparsec.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; String -&gt; ParseError -&gt; err
forall err.
ErrorBuilder err =&gt;
Maybe String -&gt; String -&gt; ParseError -&gt; err
</span><a href="Text.Gigaparsec.Internal.Errors.html#fromParseError"><span class="hs-identifier hs-var">Internal.fromParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679180324"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679180326"><span class="hs-identifier hs-var">inp</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679180330"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><span class="hs-comment">{-|
This combinator parses its argument @p@, but rolls back any consumed input on failure.

If the parser @p@ succeeds, then @atomic p@ has no effect. However, if @p@ failed,
then any input that it consumed is rolled back. This has two uses: it ensures that
the parser @p@ is all-or-nothing when consuming input, and it allows for
parsers that consume input to backtrack when they fail (with '(&lt;|&gt;)'). It should be
used for the latter purpose sparingly, however, since excessive backtracking in a
parser can result in much lower efficiency.

==== __Examples__
&gt;&gt;&gt; parse (string &quot;abc&quot; &lt;|&gt; string &quot;abd&quot;) &quot;abd&quot;
Failure .. -- first parser consumed a, so no backtrack
&gt;&gt;&gt; parse (atomic (string &quot;abc&quot;) &lt;|&gt; string &quot;abd&quot;) &quot;abd&quot;
Success &quot;abd&quot; -- first parser does not consume input on failure now

@since 0.1.0.0
-}</span></span><span>
</span><span id="line-215"></span><span id="local-6989586621679180113"><span class="annot"><a href="Text.Gigaparsec.html#atomic"><span class="hs-identifier hs-type">atomic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the parser, @p@, to execute, if it fails, it will not have consumed input.</span></span><span>
</span><span id="line-216"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180113"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ a parser that tries @p@, but never consumes input if it fails.</span></span><span>
</span><span id="line-217"></span><span id="atomic"><span class="annot"><span class="annottext">atomic :: forall a. Parsec a -&gt; Parsec a
</span><a href="Text.Gigaparsec.html#atomic"><span class="hs-identifier hs-var hs-var">atomic</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span id="local-6989586621679180331"><span class="annot"><span class="annottext">forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180331"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
forall a.
(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
</span><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-var">Parsec</span></a></span><span> </span><span class="annot"><span class="annottext">((forall r.
  State
  -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
 -&gt; Parsec a)
-&gt; (forall r.
    State
    -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679180332"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180332"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679180333"><span class="annot"><span class="annottext">a -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180333"><span class="hs-identifier hs-var">ok</span></a></span></span><span> </span><span id="local-6989586621679180334"><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180334"><span class="hs-identifier hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180331"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180332"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180333"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679180335"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679180335"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="annot"><span class="annottext">State
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180334"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679180335"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180332"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="annot"><span class="hs-comment">{-| This combinator parses its argument @p@, but does not consume input if it succeeds.

If the parser @p@ succeeds, then @lookAhead p@ will roll back any input consumed
whilst parsing @p@. If @p@ fails, however, then the whole combinator fails and
any input consumed __remains consumed__. If this behaviour is not desirable,
consider pairing `lookAhead` with `atomic`.

==== __Examples__
&gt;&gt;&gt; parse (lookAhead (string &quot;aaa&quot;) *&gt; string &quot;aaa&quot;) &quot;aaa&quot;
Success &quot;aaa&quot;
&gt;&gt;&gt; parse (lookAhead (string &quot;abc&quot;) &lt;|&gt; string &quot;abd&quot; &quot;abd&quot;
Failure .. -- lookAhead does not roll back input consumed on failure

@since 0.1.0.0
-}</span></span><span>
</span><span id="line-234"></span><span id="local-6989586621679180336"><span class="annot"><a href="Text.Gigaparsec.html#lookAhead"><span class="hs-identifier hs-type">lookAhead</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180336"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the parser, @p@, to execute</span></span><span>
</span><span id="line-235"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180336"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ a parser that parses @p@ and never consumes input if it succeeds.</span></span><span>
</span><span id="line-236"></span><span id="lookAhead"><span class="annot"><span class="annottext">lookAhead :: forall a. Parsec a -&gt; Parsec a
</span><a href="Text.Gigaparsec.html#lookAhead"><span class="hs-identifier hs-var hs-var">lookAhead</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span id="local-6989586621679180337"><span class="annot"><span class="annottext">forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180337"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
forall a.
(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
</span><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-var">Parsec</span></a></span><span> </span><span class="annot"><span class="annottext">((forall r.
  State
  -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
 -&gt; Parsec a)
-&gt; (forall r.
    State
    -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679180338"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180338"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679180339"><span class="annot"><span class="annottext">a -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180339"><span class="hs-identifier hs-var">ok</span></a></span></span><span> </span><span id="local-6989586621679180340"><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180340"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180337"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180338"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679180341"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180341"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">State
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180339"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180341"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180338"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180340"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="annot"><span class="hs-comment">{-|
This combinator parses its argument @p@, and succeeds when @p@ fails and vice-versa, never consuming
input.

If the parser @p@ succeeds, then @notFollowedBy p@ will fail, consuming no input.
Otherwise, should @p@ fail, then @notFollowedBy p@ will succeed, consuming no input
and returning @()@.

==== __Examples__
One use for this combinator is to allow for \&quot;longest-match\&quot; behaviour.
For instance, keywords are normally only considered keywords if they are not
part of some larger valid identifier (i.e. the keyword \&quot;if\&quot; should not parse
successfully given \&quot;ifp\&quot;). This can be accomplished as follows:

@
keyword :: String -&gt; Parsec ()
keyword kw = atomic $ string kw *&gt; notFollowedBy letterOrDigit
@

@since 0.1.0.0
-}</span></span><span>
</span><span id="line-259"></span><span id="local-6989586621679180119"><span class="annot"><a href="Text.Gigaparsec.html#notFollowedBy"><span class="hs-identifier hs-type">notFollowedBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180119"><span class="hs-identifier hs-type">a</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ the parser, @p@, to execute, it must fail in order for this combinator to succeed.</span></span><span>
</span><span id="line-260"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ a parser which fails when @p@ succeeds and succeeds otherwise, never consuming input.</span></span><span>
</span><span id="line-261"></span><span id="notFollowedBy"><span class="annot"><span class="annottext">notFollowedBy :: forall a. Parsec a -&gt; Parsec ()
</span><a href="Text.Gigaparsec.html#notFollowedBy"><span class="hs-identifier hs-var hs-var">notFollowedBy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span id="local-6989586621679180342"><span class="annot"><span class="annottext">forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180342"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall r.
 State
 -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec ()
forall a.
(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
</span><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-var">Parsec</span></a></span><span> </span><span class="annot"><span class="annottext">((forall r.
  State
  -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
 -&gt; Parsec ())
-&gt; (forall r.
    State
    -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679180345"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679180346"><span class="annot"><span class="annottext">() -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180346"><span class="hs-identifier hs-var">ok</span></a></span></span><span> </span><span id="local-6989586621679180347"><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180347"><span class="hs-identifier hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><span class="annottext">State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
forall r.
State
-&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r
</span><a href="#local-6989586621679180342"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679180348"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180348"><span class="hs-identifier hs-var">st'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679180349"><span class="annot"><span class="annottext">width :: Word
</span><a href="#local-6989586621679180349"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State -&gt; Word
</span><a href="Text.Gigaparsec.Internal.html#consumed"><span class="hs-identifier hs-var">Internal.consumed</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180348"><span class="hs-identifier hs-var">st'</span></a></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; Word
</span><a href="Text.Gigaparsec.Internal.html#consumed"><span class="hs-identifier hs-var">Internal.consumed</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-263"></span><span>                  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(ParseError -&gt; State -&gt; RT r) -&gt; ParseError -&gt; State -&gt; RT r
forall r.
(ParseError -&gt; State -&gt; RT r) -&gt; ParseError -&gt; State -&gt; RT r
</span><a href="Text.Gigaparsec.Internal.html#useHints"><span class="hs-identifier hs-var">Internal.useHints</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180347"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; Set ExpectItem -&gt; Word -&gt; ParseError
</span><a href="Text.Gigaparsec.Internal.html#expectedErr"><span class="hs-identifier hs-var">Internal.expectedErr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Set ExpectItem
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679180349"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>       </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">ParseError
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">State
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180346"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180345"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- eof is usually `notFollowedBy item`, but this requires annoying cyclic dependencies on Char</span><span>
</span><span id="line-267"></span><span class="hs-comment">{- This parser only succeeds at the end of the input.

Equivalent to `notFollowedBy(item)`.

==== __Examples__
&gt;&gt;&gt; parse eof &quot;a&quot;
Failure ..
&gt;&gt;&gt; parse eof &quot;&quot;
Success ()

@since 0.1.0.0
-}</span><span>
</span><span id="line-279"></span><span class="annot"><a href="Text.Gigaparsec.html#eof"><span class="hs-identifier hs-type">eof</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span id="eof"><span class="annot"><span class="annottext">eof :: Parsec ()
</span><a href="Text.Gigaparsec.html#eof"><span class="hs-identifier hs-var hs-var">eof</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall r.
 State
 -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec ()
forall a.
(forall r.
 State
 -&gt; (a -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec a
</span><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-var">Parsec</span></a></span><span> </span><span class="annot"><span class="annottext">((forall r.
  State
  -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
 -&gt; Parsec ())
-&gt; (forall r.
    State
    -&gt; (() -&gt; State -&gt; RT r) -&gt; (ParseError -&gt; State -&gt; RT r) -&gt; RT r)
-&gt; Parsec ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679180351"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180351"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679180352"><span class="annot"><span class="annottext">() -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180352"><span class="hs-identifier hs-var">good</span></a></span></span><span> </span><span id="local-6989586621679180353"><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180353"><span class="hs-identifier hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">State -&gt; String
</span><a href="Text.Gigaparsec.Internal.html#input"><span class="hs-identifier hs-var">Internal.input</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180351"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(ParseError -&gt; State -&gt; RT r) -&gt; ParseError -&gt; State -&gt; RT r
forall r.
(ParseError -&gt; State -&gt; RT r) -&gt; ParseError -&gt; State -&gt; RT r
</span><a href="Text.Gigaparsec.Internal.html#useHints"><span class="hs-identifier hs-var">Internal.useHints</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180353"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-282"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; Set ExpectItem -&gt; Word -&gt; ParseError
</span><a href="Text.Gigaparsec.Internal.html#expectedErr"><span class="hs-identifier hs-var">Internal.expectedErr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180351"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpectItem -&gt; Set ExpectItem
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">ExpectItem
</span><a href="Text.Gigaparsec.Internal.Errors.html#ExpectEndOfInput"><span class="hs-identifier hs-var">Internal.ExpectEndOfInput</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180351"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; State -&gt; RT r
</span><a href="#local-6989586621679180352"><span class="hs-identifier hs-var">good</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621679180351"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><span class="hs-comment">{-|
This parser produces @()@ without having any other effect.

When this parser is ran, no input is required, nor consumed, and the given value will always be
successfully returned. It has no other effect on the state of the parser.

@since 0.1.0.0
-}</span></span><span>
</span><span id="line-293"></span><span class="annot"><a href="Text.Gigaparsec.html#unit"><span class="hs-keyword hs-type">unit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span id="unit"><span class="annot"><span class="annottext">unit :: Parsec ()
</span><a href="Text.Gigaparsec.html#unit"><span class="hs-keyword hs-var hs-var">unit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Parsec ()
forall a. a -&gt; Parsec a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#%3C~%3E"><span class="hs-operator hs-type">&lt;~&gt;</span></a></span><span>
</span><span id="line-297"></span><span id="local-6989586621679180131"><span id="local-6989586621679180132"><span class="annot"><a href="Text.Gigaparsec.html#%3C~%3E"><span class="hs-operator hs-type">(&lt;~&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180131"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180132"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180131"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679180132"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-298"></span><span id="%3C~%3E"><span class="annot"><span class="annottext">&lt;~&gt; :: forall a b. Parsec a -&gt; Parsec b -&gt; Parsec (a, b)
</span><a href="Text.Gigaparsec.html#%3C~%3E"><span class="hs-operator hs-var hs-var">(&lt;~&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Parsec a -&gt; Parsec b -&gt; Parsec (a, b)
forall a b c. (a -&gt; b -&gt; c) -&gt; Parsec a -&gt; Parsec b -&gt; Parsec c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#%24%3E"><span class="hs-operator hs-type">$&gt;</span></a></span><span>
</span><span id="line-301"></span><span id="local-6989586621679180139"><span id="local-6989586621679180140"><span class="annot"><a href="Text.Gigaparsec.html#%24%3E"><span class="hs-operator hs-type">($&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180139"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180140"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180140"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-302"></span><span id="%24%3E"><span class="annot"><span class="annottext">$&gt; :: forall a b. Parsec a -&gt; b -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#%24%3E"><span class="hs-operator hs-var hs-var">($&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Parsec a -&gt; Parsec b) -&gt; Parsec a -&gt; b -&gt; Parsec b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Parsec a -&gt; Parsec b
forall a b. a -&gt; Parsec b -&gt; Parsec a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">(&lt;$)</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#%3C%3A%3E"><span class="hs-operator hs-type">&lt;:&gt;</span></a></span><span>
</span><span id="line-305"></span><span id="local-6989586621679180149"><span class="annot"><a href="Text.Gigaparsec.html#%3C%3A%3E"><span class="hs-operator hs-type">(&lt;:&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180149"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679180149"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679180149"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-306"></span><span id="%3C%3A%3E"><span class="annot"><span class="annottext">&lt;:&gt; :: forall a. Parsec a -&gt; Parsec [a] -&gt; Parsec [a]
</span><a href="Text.Gigaparsec.html#%3C%3A%3E"><span class="hs-operator hs-var hs-var">(&lt;:&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; [a] -&gt; [a]) -&gt; Parsec a -&gt; Parsec [a] -&gt; Parsec [a]
forall a b c. (a -&gt; b -&gt; c) -&gt; Parsec a -&gt; Parsec b -&gt; Parsec c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html#%3C%2B%3E"><span class="hs-operator hs-type">&lt;+&gt;</span></a></span><span>
</span><span id="line-309"></span><span id="local-6989586621679180151"><span id="local-6989586621679180152"><span class="annot"><a href="Text.Gigaparsec.html#%3C%2B%3E"><span class="hs-operator hs-type">(&lt;+&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180152"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679180151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180152"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-310"></span><span id="local-6989586621679180364"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180364"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="%3C%2B%3E"><span class="annot"><span class="annottext">&lt;+&gt; :: forall a b. Parsec a -&gt; Parsec b -&gt; Parsec (Either a b)
</span><a href="Text.Gigaparsec.html#%3C%2B%3E"><span class="hs-operator hs-var hs-var">&lt;+&gt;</span></a></span></span><span> </span><span id="local-6989586621679180365"><span class="annot"><span class="annottext">Parsec b
</span><a href="#local-6989586621679180365"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; Parsec a -&gt; Parsec (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180364"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Parsec (Either a b) -&gt; Parsec (Either a b) -&gt; Parsec (Either a b)
forall a. Parsec a -&gt; Parsec a -&gt; Parsec a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; Parsec b -&gt; Parsec (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parsec b
</span><a href="#local-6989586621679180365"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span id="local-6989586621679180163"><span id="local-6989586621679180164"><span class="annot"><a href="Text.Gigaparsec.html#manyl"><span class="hs-identifier hs-type">manyl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180163"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180164"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180163"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180163"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180164"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180163"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-313"></span><span id="manyl"><span class="annot"><span class="annottext">manyl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#manyl"><span class="hs-identifier hs-var hs-var">manyl</span></a></span></span><span> </span><span id="local-6989586621679180367"><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180367"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679180368"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180368"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
forall b a. (b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#_repl"><span class="hs-identifier hs-var">_repl</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180367"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Parsec b
forall a. a -&gt; Parsec a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180368"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span id="local-6989586621679180370"><span id="local-6989586621679180371"><span class="annot"><a href="Text.Gigaparsec.html#somel"><span class="hs-identifier hs-type">somel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180370"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180371"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180370"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180370"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180371"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180370"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-316"></span><span id="somel"><span class="annot"><span class="annottext">somel :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#somel"><span class="hs-identifier hs-var hs-var">somel</span></a></span></span><span> </span><span id="local-6989586621679180373"><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180373"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679180374"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180374"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679180375"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180375"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
forall b a. (b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#_repl"><span class="hs-identifier hs-var">_repl</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180373"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180373"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180374"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Parsec a -&gt; Parsec b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180375"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180375"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="annot"><span class="hs-comment">{-|
This combinator acts like the 'foldMap' function but with a parser.

The parser @manyMap f p@, will parse @p@ __zero__ or more times, then
adapt each result with the function @f@ to produce a bunch of values
in some 'Monoid' @m@. These values are then combined together to form a
single value; if @p@ could not be parsed, it will return the 'mempty'
for @m@.

==== __Examples__
&gt;&gt;&gt; parse (manyMap Set.singleton item) &quot;aaaab&quot;
Success (Set.fromList ['a', 'b'])

@since 0.2.2.0
-}</span></span><span>
</span><span id="line-333"></span><span id="local-6989586621679180171"><span id="local-6989586621679180172"><span class="annot"><a href="Text.Gigaparsec.html#manyMap"><span class="hs-identifier hs-type">manyMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679180171"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180172"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180171"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- injection function for parser results into a monoid</span><span>
</span><span id="line-335"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180172"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- parser to execute multiple times</span><span>
</span><span id="line-336"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180171"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-337"></span><span id="manyMap"><span class="annot"><span class="annottext">manyMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Parsec a -&gt; Parsec m
</span><a href="Text.Gigaparsec.html#manyMap"><span class="hs-identifier hs-var hs-var">manyMap</span></a></span></span><span> </span><span id="local-6989586621679180383"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679180383"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m -&gt; m -&gt; m) -&gt; m -&gt; Parsec m -&gt; Parsec m
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.Internal.html#manyr"><span class="hs-identifier hs-var">manyr</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">(Parsec m -&gt; Parsec m)
-&gt; (Parsec a -&gt; Parsec m) -&gt; Parsec a -&gt; Parsec m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; m) -&gt; Parsec a -&gt; Parsec m
forall a b. (a -&gt; b) -&gt; Parsec a -&gt; Parsec b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679180383"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><span class="hs-comment">{-|
This combinator acts like the 'foldMap' function but with a parser.

The parser @manyMap f p@, will parse @p@ __one__ or more times, then
adapt each result with the function @f@ to produce a bunch of values
in some 'Semigroup' @s@. These values are then combined together to form a
single value.

==== __Examples__
&gt;&gt;&gt; parse (someMap Max item) &quot;bdcjb&quot;
Success (Max 'j')
&gt;&gt;&gt; parse (someMap Min item) &quot;bdcjb&quot;
Success (Max 'b')

@since 0.2.2.0
-}</span></span><span>
</span><span id="line-355"></span><span id="local-6989586621679180184"><span id="local-6989586621679180185"><span class="annot"><a href="Text.Gigaparsec.html#someMap"><span class="hs-identifier hs-type">someMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679180184"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-356"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180185"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180184"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- injection function for parser results into a monoid</span><span>
</span><span id="line-357"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180185"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- parser to execute multiple times</span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180184"><span class="hs-identifier hs-type">s</span></a></span></span></span><span>
</span><span id="line-359"></span><span id="someMap"><span class="annot"><span class="annottext">someMap :: forall s a. Semigroup s =&gt; (a -&gt; s) -&gt; Parsec a -&gt; Parsec s
</span><a href="Text.Gigaparsec.html#someMap"><span class="hs-identifier hs-var hs-var">someMap</span></a></span></span><span> </span><span id="local-6989586621679180389"><span class="annot"><span class="annottext">a -&gt; s
</span><a href="#local-6989586621679180389"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679180390"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180390"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; s -&gt; s) -&gt; Parsec s -&gt; Parsec s -&gt; Parsec s
forall b a. (b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#_repl"><span class="hs-identifier hs-var">_repl</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; s -&gt; s
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; s
</span><a href="#local-6989586621679180389"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; s) -&gt; Parsec a -&gt; Parsec s
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180390"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; s
</span><a href="#local-6989586621679180389"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; s) -&gt; Parsec a -&gt; Parsec s
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180390"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- is there a better implementation, it's tricky!</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span id="local-6989586621679180167"><span id="local-6989586621679180168"><span class="annot"><a href="Text.Gigaparsec.html#_repl"><span class="hs-identifier hs-type">_repl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180168"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679180167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180168"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180167"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-362"></span><span id="_repl"><span class="annot"><span class="annottext">_repl :: forall b a. (b -&gt; a -&gt; b) -&gt; Parsec b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#_repl"><span class="hs-identifier hs-var hs-var">_repl</span></a></span></span><span> </span><span id="local-6989586621679180392"><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180392"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679180393"><span class="annot"><span class="annottext">Parsec b
</span><a href="#local-6989586621679180393"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679180394"><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180394"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parsec b
</span><a href="#local-6989586621679180393"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Parsec b -&gt; Parsec (b -&gt; b) -&gt; Parsec b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;**&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; (b -&gt; b) -&gt; b -&gt; b)
-&gt; (b -&gt; b) -&gt; Parsec a -&gt; Parsec (b -&gt; b)
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.Internal.html#manyr"><span class="hs-identifier hs-var">manyr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679180395"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180395"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679180396"><span class="annot"><span class="annottext">b -&gt; b
</span><a href="#local-6989586621679180396"><span class="hs-identifier hs-var">next</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679180397"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180397"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; b
</span><a href="#local-6989586621679180396"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679180392"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679180397"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679180395"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b -&gt; b
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Parsec a
</span><a href="#local-6989586621679180394"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- should these be implemented with branch? probably not.</span><span>
</span><span id="line-365"></span><span class="hs-comment">{-

@since 0.2.2.0
-}</span><span>
</span><span id="line-369"></span><span id="local-6989586621679180194"><span class="annot"><a href="Text.Gigaparsec.html#filterS"><span class="hs-identifier hs-type">filterS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180194"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-370"></span><span id="filterS"><span class="annot"><span class="annottext">filterS :: forall a. (a -&gt; Bool) -&gt; Parsec a -&gt; Parsec a
</span><a href="Text.Gigaparsec.html#filterS"><span class="hs-identifier hs-var hs-var">filterS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ErrorGen a -&gt; (a -&gt; Bool) -&gt; Parsec a -&gt; Parsec a
forall a. ErrorGen a -&gt; (a -&gt; Bool) -&gt; Parsec a -&gt; Parsec a
</span><a href="Text.Gigaparsec.Errors.Combinator.html#filterSWith"><span class="hs-identifier hs-var">filterSWith</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorGen a
forall a. ErrorGen a
</span><a href="Text.Gigaparsec.Errors.ErrorGen.html#vanillaGen"><span class="hs-identifier hs-var">vanillaGen</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="hs-comment">-- this is called mapFilter in Scala... there is no collect counterpart</span><span>
</span><span id="line-373"></span><span class="hs-comment">{-

@since 0.2.2.0
-}</span><span>
</span><span id="line-377"></span><span id="local-6989586621679180199"><span id="local-6989586621679180200"><span class="annot"><a href="Text.Gigaparsec.html#mapMaybeS"><span class="hs-identifier hs-type">mapMaybeS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679180199"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679180200"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180199"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679180200"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-378"></span><span id="mapMaybeS"><span class="annot"><span class="annottext">mapMaybeS :: forall a b. (a -&gt; Maybe b) -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.html#mapMaybeS"><span class="hs-identifier hs-var hs-var">mapMaybeS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ErrorGen a -&gt; (a -&gt; Maybe b) -&gt; Parsec a -&gt; Parsec b
forall a b. ErrorGen a -&gt; (a -&gt; Maybe b) -&gt; Parsec a -&gt; Parsec b
</span><a href="Text.Gigaparsec.Errors.Combinator.html#mapMaybeSWith"><span class="hs-identifier hs-var">mapMaybeSWith</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorGen a
forall a. ErrorGen a
</span><a href="Text.Gigaparsec.Errors.ErrorGen.html#vanillaGen"><span class="hs-identifier hs-var">vanillaGen</span></a></span><span>
</span><span id="line-379"></span></pre></body></html>