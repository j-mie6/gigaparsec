<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-missing-import-lists #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="annot"><span class="hs-comment">{-|
Module      : Text.Gigaparsec.Token.Patterns
Description : Template Haskell generators to help with patterns
License     : BSD-3-Clause
Maintainer  : Jamie Willis, Gigaparsec Maintainers
Stability   : experimental

This module is currently experimental, and may have bugs depending on the version
of Haskell, or the extensions enabled. Please report any issues to the maintainers.

@since 0.2.2.0
-}</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Token.Patterns.html"><span class="hs-identifier">Text.Gigaparsec.Token.Patterns</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Overloaded Strings</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Token.Patterns.html#overloadedStrings"><span class="hs-identifier">overloadedStrings</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Lexer Combinators</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><span class="hs-comment">{-|
  These functions will generate combinators for parsing things like identifiers, keywords, etc,
  as described by a 'Lexer'.

  The combinators will behave like their counterparts in &quot;Text.Gigaparsec.Token.Lexer&quot;,
  except they do not need to be given a lexer(/a subcomponent of a lexer) as an argument.
  
  * 'lexerCombinators' will generate these lexer combinators using the same name as the original combinators.
  * 'lexerCombinatorsWithNames' lets you rename the generated combinator; otherwise it behaves exactly as 'lexerCombinators'.
  * 'generateIntegerParsers' will generate lexer combinators for integer literals.
    If you try to generate a `Text.Gigaparsec.Token.Lexer.decimal` parser using `lexerCombinators` or `lexerCombinatorsWithNames`,
    you will get an error.
  
  ==== __Examples:__

  The combinator &quot;Text.Gigaparsec.Token.Lexer.identifier&quot; is used for parsing identifiers, and has the type,

  &gt; Lexer.identifier :: Lexer -&gt; Parsec String

  It is annoying to have to feed the lexer as the initial argument, as this will be fixed throughout the parser.
  Usually, one ends up writing their own combinator:

  &gt; identifier :: Parsec String
  &gt; identifier = Lexer.identifier lexer

  Writing these by hand is tedious; especially if we wish to use multiple such combinators.
  This is where `lexerCombinators` comes in:

  &gt; $(lexerCombinators [| lexer |] ['Lexer.identifier])

  will generate the combinator,

  &gt; identifier :: Parsec String
  &gt; identifier = Lexer.identifier lexer

  If we wish to use multiple combinators, we just add each one to the list.
  For example,

  &gt; $(lexerCombinators [| lexer |] ['Lexer.identifier, 'Lexer.fully, 'Lexer.softKeyword, 'Lexer.softOperator])


  -}</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators.html#lexerCombinators"><span class="hs-identifier">lexerCombinators</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators.html#lexerCombinatorsWithNames"><span class="hs-identifier">lexerCombinatorsWithNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Integer Parsers</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#generateIntegerParsers"><span class="hs-identifier">generateIntegerParsers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** IntegerParserConfig</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#IntegerParserConfig"><span class="hs-identifier">IntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#prefix"><span class="hs-identifier">prefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#widths"><span class="hs-identifier">widths</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#bases"><span class="hs-identifier">bases</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#includeUnbounded"><span class="hs-identifier">includeUnbounded</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#signedOrUnsigned"><span class="hs-identifier">signedOrUnsigned</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#collatedParser"><span class="hs-identifier">collatedParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><span class="hs-comment">-- **** Presets</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptyIntegerParserConfig"><span class="hs-identifier">emptyIntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptySignedIntegerParserConfig"><span class="hs-identifier">emptySignedIntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptyUnsignedIntegerParserConfig"><span class="hs-identifier">emptyUnsignedIntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><span class="hs-comment">-- **** Associated Types</span></span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#SignedOrUnsigned"><span class="hs-identifier">SignedOrUnsigned</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#allBases"><span class="hs-identifier">allBases</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#IntLitBase"><span class="hs-identifier">IntLitBase</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.html"><span class="hs-identifier">Text.Gigaparsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier">Parsec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html"><span class="hs-identifier">Text.Gigaparsec.Internal.Token.Lexer</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#Lexeme"><span class="hs-identifier">Lexeme</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#sym"><span class="hs-identifier">sym</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#Lexer"><span class="hs-identifier">Lexer</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#lexeme"><span class="hs-identifier">lexeme</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html"><span class="hs-identifier">Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#IntegerParserConfig"><span class="hs-identifier">IntegerParserConfig</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#collatedParser"><span class="hs-identifier">collatedParser</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#prefix"><span class="hs-identifier">prefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#widths"><span class="hs-identifier">widths</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#bases"><span class="hs-identifier">bases</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>                          </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#includeUnbounded"><span class="hs-identifier">includeUnbounded</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#signedOrUnsigned"><span class="hs-identifier">signedOrUnsigned</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#SignedOrUnsigned"><span class="hs-identifier">SignedOrUnsigned</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#allBases"><span class="hs-identifier">allBases</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#IntLitBase"><span class="hs-identifier">IntLitBase</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#generateIntegerParsers"><span class="hs-identifier">generateIntegerParsers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptyIntegerParserConfig"><span class="hs-identifier">emptyIntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptySignedIntegerParserConfig"><span class="hs-identifier">emptySignedIntegerParserConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>      </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.IntegerParsers.html#emptyUnsignedIntegerParserConfig"><span class="hs-identifier">emptyUnsignedIntegerParserConfig</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsString</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromString</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Q</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Dec</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators.html"><span class="hs-identifier">Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators.html#lexerCombinators"><span class="hs-identifier">lexerCombinators</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Patterns.LexerCombinators.html#lexerCombinatorsWithNames"><span class="hs-identifier">lexerCombinatorsWithNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><span class="hs-comment">{-|
When given a quoted reference to a 'Text.Gigaparsec.Token.Lexer.Lexer', for example
@[|lexer|]@, this function will synthesise an `IsString` instance that will
allow string literals to serve as @Parsec ()@. These literals will parse symbols
in the language associated with the lexer, followed by consuming valid whitespace.

@since 0.2.2.0
-}</span></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Text.Gigaparsec.Token.Patterns.html#overloadedStrings"><span class="hs-identifier hs-type">overloadedStrings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ the quoted 'Text.Gigaparsec.Token.Lexer.Lexer'</span></span><span>
</span><span id="line-114"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ a synthesised `IsString` instance.</span></span><span>
</span><span id="line-115"></span><span id="overloadedStrings"><span class="annot"><span class="annottext">overloadedStrings :: Q Exp -&gt; Q [Dec]
</span><a href="Text.Gigaparsec.Token.Patterns.html#overloadedStrings"><span class="hs-identifier hs-var hs-var">overloadedStrings</span></a></span></span><span> </span><span id="local-6989586621679253925"><span class="annot"><span class="annottext">Q Exp
</span><a href="#local-6989586621679253925"><span class="hs-identifier hs-var">qlexer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[d|</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679253926"><span class="annot"><a href="#local-6989586621679253926"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679253926"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>      </span><span class="annot"><span class="hs-identifier hs-var hs-var">fromString</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#sym"><span class="hs-identifier hs-var">sym</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Text.Gigaparsec.Internal.Token.Lexer.html#lexeme"><span class="hs-identifier hs-var">lexeme</span></a></span><span> </span><span class="hs-special">$</span><span class="annot"><span class="annottext">Q Exp
</span><a href="#local-6989586621679253925"><span class="hs-identifier hs-var">qlexer</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO: one day, $qlexer.lexeme.sym</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">|]</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span></pre></body></html>